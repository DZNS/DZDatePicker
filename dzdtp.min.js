"use strict";!function(){var e=Array.prototype.slice,t=function(e,t){for(;e.parentNode;){if(e=e.parentNode,e===document.body||e===document)return;if(e.getAttribute("id")===t)return e}};!function(){var n=function(){var e=document.getElementById("dz-calendar");return e},a=function(e){var n=t(e,"dz-calendar");return n!==document.body&&void 0!=n},r=function(e){for(var t=e.getFullYear(),n=e.getMonth(),a=new Date(t,n,0).getDate(),r=[];a>0;)r.push(new Date(t,n,a)),a--;return r.reverse()},i=function(e){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].splice(e,1)},d=function(e){var t=new Date,a='<div class="dz-dates">',r=n(),i=void 0,d=void 0;r&&r.dataset.maxDate&&(i=new Date(r.dataset.maxDate)),r&&r.dataset.minDate&&(d=new Date(r.dataset.minDate));var o=e[0].getDay(),c=function(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getYear()&&t.getYear()};return e.forEach(function(e,n){var r=[];c(t,e)&&r.push("today"),d&&d.getTime()-e.getTime()>0&&r.push("disabled"),i&&i.getTime()-e.getTime()<0&&r.push("disabled"),r=r.join(" "),a+=0!==n?'<div role="button" class="'+r+'">'+e.getDate()+"</div>":'<div style="margin-left:'+35*o+'px;" role="button" class="'+r+'">'+e.getDate()+"</div>"}),a+="</div>"},o=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),a=r(e),o=["S","M","T","W","T","F","S"],c='<div id="dz-calendar" data-current="'+t+"-"+n+'">\n        <div class="dz-title"> \n           <h4>'+i(e.getMonth())+", "+e.getFullYear()+'</h4>\n           <button id="dz-prev"><</button>\n           <button id="dz-next">></button>\n        </div>\n        <div class="dz-days">';return o.forEach(function(e){c+="<div>"+e+"</div>"}),c+="</div>\n        "+d(a)+"\n      </div>"},c=function(e,t){return e&&e.preventDefault&&e.preventDefault(),t&&(t.classList.remove("active"),setTimeout(function(){document.body.removeChild(t)},300)),document.body.removeEventListener("click",s,!1),!1},u=function(e){e&&e.preventDefault&&e.preventDefault();var t=n(),a=t.dataset.current.split("-"),o=new Date(a[0],a[1]),c=new Date(o.getFullYear(),o.getMonth()-1),u=d(r(c)),l=t.children[2];t.insertAdjacentHTML("beforeEnd",u),u=t.children[3],t.removeChild(l);var s=c.getFullYear(),v=c.getMonth();return t.dataset.current=s+" - "+v,t.children[0].children[0].innerHTML=i(v)+", "+s,f(),!1},l=function(e){e&&e.preventDefault&&e.preventDefault();var t=n(),a=t.dataset.current.split("-"),o=new Date(a[0],a[1]),c=new Date(o.getFullYear(),o.getMonth()+1),u=d(r(c)),l=t.children[2];t.insertAdjacentHTML("beforeEnd",u),u=t.children[3],t.removeChild(l);var s=c.getFullYear(),v=c.getMonth();return t.dataset.current=s+" - "+v,t.children[0].children[0].innerHTML=i(v)+", "+s,f(),!1},s=function m(e){var t=n();if(t)if(t.classList.contains("active")){if(!a(e.target))return c(e,t)}else document.body.removeChild(t);document.body.removeEventListener("click",m,!1)},v=function(e){var t=n(),a=parseInt(e.target.innerHTML),r=t.dataset.current.split("-");a=new Date(r[0],r[1],a);var i=window[t.dataset.onset];return i&&i(a),c(e,t)},f=function(){var e=n();if(e){var t=[].slice.call(e.children[2].children);t.forEach(function(e){e.classList.contains("disabled")||e.addEventListener("click",v,!1)})}},g=function p(e){var t=n();if(t)return c(e,t),setTimeout(function(){p(e)},300),!1;var a=e.target.getBoundingClientRect(),r={x:a.left+a.width/2,y:a.top+a.height},i=o();document.body.insertAdjacentHTML("beforeEnd",i),i=document.getElementById("dz-calendar");var d=i.getBoundingClientRect(),v=4*d.width;i.style.left=r.x-v/2+"px",i.style.top=r.y+16+"px";var g=i.children[0].children[1],h=i.children[0].children[2];return g.addEventListener("click",u,!1),h.addEventListener("click",l,!1),i.classList.add("active"),e.target.dataset.dateMax&&(i.dataset.maxDate=e.target.dataset.dateMax),e.target.dataset.dateMin&&(i.dataset.minDate=e.target.dataset.dateMin),e.target.dataset.onset&&(i.dataset.onset=e.target.dataset.onset),f(),setTimeout(function(){document.body.addEventListener("click",s,!1)},500),!1},h=document.querySelectorAll(".date-trigger");h=e.call(h),h.forEach(function(e){e.addEventListener("click",g,!1)})}(),function(){var n=function(){return document.getElementById("dz-timer")},a=function(e){var n=t(e,"dz-timer");return n!==document.body&&void 0!=n},r=function(){var e='<div id="dz-timer">\n        <select class="hours">',t=Array.from(Array(13).keys());return t.shift(),e+=t.map(function(e){return"<option value="+e+">"+e+"</option>"}).join(" "),e+='</select>\n        <select class="minutes">',e+=Array.from(Array(60).keys()).map(function(e){return 1===e.toString().length&&(e="0"+e),"<option value="+e+">"+e+"</option>"}).join(" "),e+='</select>\n        <select class="shift">\n          <option value=0>AM</option>\n          <option value=1>PM</option>\n        </select>',e+="</select>\n      </div>"},i=function(e,t){return e&&e.preventDefault&&e.preventDefault(),t&&(t.classList.remove("active"),setTimeout(function(){document.body.removeChild(t)},300)),document.body.removeEventListener("click",d,!1),!1},d=function l(e){var t=n();if(t)if(t.classList.contains("active")){if(!a(e.target))return i(e,t)}else document.body.removeChild(t);document.body.removeEventListener("click",l,!1)},o=function(){var e=n();if(!e.dataset.onchange)return!0;var t=parseInt(e.children[0].value),a=parseInt(e.children[1].value),r=parseInt(e.children[2].value);1===r&&(t+=12),12===t&&0===r&&(t="00");var i=window[e.dataset.onchange];i&&i({string:t+":"+a,hours:parseInt(t),minutes:a})},c=function s(t){var a=n();if(a)return i(t,a),setTimeout(function(){s(t)},300),!1;var c=t.target.getBoundingClientRect(),u={x:c.left+c.width/2,y:c.top+c.height},l=r();document.body.insertAdjacentHTML("beforeEnd",l),l=n();var v=new Date,f=v.getHours(),g=v.getMinutes();l.children[0].value=f>12?f-12:f,l.children[1].value=g,l.children[2].value=f>12?1:0,e.call(l.children).forEach(function(e){e.addEventListener("change",o,!1)}),t.target.dataset.onchange&&(l.dataset.onchange=t.target.dataset.onchange);var h=l.getBoundingClientRect(),m=4*h.width;return l.style.left=u.x-m/2+"px",l.style.top=u.y+16+"px",l.classList.add("active"),setTimeout(function(){document.body.addEventListener("click",d,!1)},500),!1},u=e.call(document.querySelectorAll(".timer-trigger"));u.forEach(function(e){e.addEventListener("click",c,!1)})}()}();
